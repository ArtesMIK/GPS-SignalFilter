Описание проекта
Название: Визуализация GPS-данных с фильтрацией сигналов

Разработчик: Артём

Цель проекта
Сделать программу для работы с логами GPS и данными сигналов. Она фильтрует данные по частоте и мощности сигнала, показывает выбранные точки на 2D-карте и сохраняет результаты в разных форматах. Управление происходит через консоль с простыми командами.

Технологии
Python
Библиотеки:
simplekml — сохраняет карту в формате KML.
os — получает список файлов и проверяет пути.
datetime (модули: datetime, timedelta) — работает с датами и временем.
IPython.display (модуль: display) — показывает карту в Jupyter Notebook.
folium (включая folium.plugins: MarkerCluster) — строит 2D-карту с группировкой точек.
logging — записывает события, предупреждения и ошибки.
sys — управляет завершением программы.
Примечание: random упоминалась раньше, но в текущем коде не применяется.
Основные функции
Загрузка данных:
Берёт GPS-координаты (широта, долгота, высота) и время из .log-файла.
Берёт значения мощности сигнала (дБ) и диапазоны частот из .data-файла.
Фильтрация:
Выбирает данные по диапазону частот (мин/макс, МГц).
Выбирает данные по минимальной мощности (дБ).
Визуализация:
Создаёт 2D-карту с группировкой точек через Folium.
Сохранение результатов:
Записывает отобранные данные в новый .data-файл.
Сохраняет карту в KML (.kml).
Сохраняет карту в HTML (.html).
Интерактивность:
Позволяет выбрать файлы (.log и .data) через консоль или ввести путь вручную.
Запрашивает параметры фильтрации (частота, мощность) через консоль.
Даёт выбор действий после обработки: показать точки, сохранить данные, карту в KML или HTML.
Позволяет поменять действия или параметры после первой обработки.
При вводе "/" после фильтрации сохраняет результаты по последнему выбору и завершает работу.
Особенности
Обработка ошибок: Ошибки (например, неправильные данные или пропавшие файлы) записываются в лог через logging.
Повторная фильтрация: Можно ввести новые параметры для уже загруженных данных.
Соединение данных: Связывает записи из .log и .data по времени с разницей до 1 секунды.
Выход с сохранением: Если после фильтрации и карты ввести "/", программа сохраняет данные по выбранным ранее действиям и завершает работу.
Среда выполнения: Код работает в Jupyter Notebook, но может использоваться в терминале с заменой display(m) на m.save().
Пример входных данных
Из .log-файла:
text

Свернуть

Перенос

Копировать
FMT, 90, 51, GPS, QBBIHBcLLeffffB, TimeUS,I,Status,GMS,GWk,NSats,HDop,Lat,Lng,Alt,Spd,GCrs,VZ,Yaw,U
GPS, 908419406, 0, 1, 207781000, 2346, 0, 0.89, 56.3230086, 53.7558019, 166.02, 0.07227725, 255.5792, -0.012, 0, 1
POS, 908420112, 56.4112514, 53.784057, 166.26, 0.1000001, 2.22
Формат: GPS, TimeUS (время в мкс), ..., Status, ..., Lat (широта), Lng (долгота), Alt (высота), ....
Из .data-файла:
text

Свернуть

Перенос

Копировать
00900.137:0000:1000: -42.4 -29.2 -17.5 -17.4 -29.2 -41.6 -48.3 -43.8 -41.3 -49.9 -36.0 -18.1 -6.0 -6.1 -18.4
00900.368:1000:2000: -37.6 -38.4 -42.5 -45.1 -41.9 -39.2 -47.5 -49.3 -51.0 -44.9 -47.6 -42.3 -36.5 -38.9 -44.9
Формат: время_в_секундах:мин_частота:макс_частота: значения_мощности_сигнала (дБ).
Алгоритм работы
Запрашивает выбор действий (показать точки, сохранить данные, KML, HTML).
Загружает .log-файл и берёт GPS-координаты с временем.
Загружает .data-файл и берёт мощность с частотами.
Связывает данные по времени (синхронизация GPS и измерений).
Применяет фильтры (частота, мощность).
Строит и показывает карту.
Выполняет выбранные действия (показ или сохранение).
Запрашивает изменение действий, новые параметры или новые данные.
При вводе "/" после фильтрации сохраняет по последнему выбору и завершает работу.
Результат
2D-карта с отобранными точками в Jupyter Notebook.
Сохранённые файлы: данные (.data), карта в KML (.kml), карта в HTML (.html).
Перспективы развития
Работа с другими форматами данных (например, CSV или JSON).
Добавление окна с кнопками для выбора файлов и параметров.
Добавление фильтров по высоте, статусу GPS или времени дня.
Улучшение для работы в терминале без Jupyter Notebook.
